"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Me){Me.defineMode("javascript",function(e,o){function c(e,t,r){return fe=e,se=r,t}function l(e,t){var a;if('"'==(n=e.next())||"'"==n)return t.tokenize=(a=n,function(e,t){var r,n=!1;if(me&&"@"==e.peek()&&e.match(he))return t.tokenize=l,c("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=a||n);)n=!n&&"\\"==r;return n||(t.tokenize=l),c("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return c("number","number");if("."==n&&e.match(".."))return c("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return c(n);if("="==n&&e.eat(">"))return c("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),c("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),c("number","number");if("/"==n){if(e.eat("*"))return(t.tokenize=u)(e,t);if(e.eat("/"))return e.skipToEnd(),c("comment","comment");if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){e:for(var r,n=!1,i=!1;null!=(r=e.next());){if(!n){if("/"==r&&!i)break e;"["==r?i=!0:i&&"]"==r&&(i=!1)}n=!n&&"\\"==r}return e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),c("regexp","string-2")}return e.eatWhile(xe),c("operator","operator",e.current())}return"`"==n?(t.tokenize=f)(e,t):"#"==n?(e.skipToEnd(),c("error","error")):xe.test(n)?(e.eatWhile(xe),c("operator","operator",e.current())):be.test(n)?(e.eatWhile(be),n=e.current(),(r=ke.propertyIsEnumerable(n)&&ke[n])&&"."!=t.lastType?c(r.type,r.style,n):c("variable","variable",n)):void 0}function u(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=l;break}n="*"==r}return c("comment","comment")}function f(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=l;break}n=!n&&"\\"==r}return c("quasi","string-2",e.current())}function s(e,t){if(t.fatArrowAt&&(t.fatArrowAt=null),!((a=e.string.indexOf("=>",e.start))<0)){for(var r=0,n=!1,a=a-1;0<=a;--a){var i=e.string.charAt(a),o="([{}])".indexOf(i);if(0<=o&&o<3){if(!r){++a;break}if(0==--r)break}else if(3<=o&&o<6)++r;else if(be.test(i))n=!0;else{if(/["'\/]/.test(i))return;if(n&&!r){++a;break}}}n&&!r&&(t.fatArrowAt=a)}}function i(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function d(){for(var e=arguments.length-1;0<=e;e--)we.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function r(t){function e(e){for(;e;e=e.next)if(e.name==t)return!0;return!1}var r=we.state;r.context?(we.marked="def",e(r.localVars)||(r.localVars={name:t,next:r.localVars})):!e(r.globalVars)&&o.globalVars&&(r.globalVars={name:t,next:r.globalVars})}function m(){we.state.context={prev:we.state.context,vars:we.state.localVars},we.state.localVars=je}function v(){we.state.localVars=we.state.context.vars,we.state.context=we.state.context.prev}function y(n,a){var e=function(){var e=we.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var r=e.lexical;r&&")"==r.type&&r.align;r=r.prev)t=r.indented;e.lexical=new i(t,we.stream.column(),n,null,e.lexical,a)};return e.lex=!0,e}function b(){var e=we.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(r){return function e(t){return t==r?p():";"==r?d():p(e)}}function x(e,t){return"var"==e?p(y("vardef",t.length),_,k(";"),b):"keyword a"==e?p(y("form"),h,x,b):"keyword b"==e?p(y("form"),x,b):"{"==e?p(y("}"),O,b):";"==e?p():"if"==e?("else"==we.state.lexical.info&&we.state.cc[we.state.cc.length-1]==b&&we.state.cc.pop()(),p(y("form"),h,x,b,D)):"function"==e?p(Q):"for"==e?p(y("form"),F,x,b):"variable"==e?p(y("stat"),z):"switch"==e?p(y("form"),h,y("}","switch"),k("{"),O,b,b):"case"==e?p(h,k(":")):"default"==e?p(k(":")):"catch"==e?p(y("form"),m,k("("),R,k(")"),x,b,v):"module"==e?p(y("form"),m,te,v,b):"class"==e?p(y("form"),X,b):"export"==e?p(y("form"),re,b):"import"==e?p(y("form"),ne,b):d(y("stat"),h,k(";"),b)}function h(e){return t(e,!1)}function g(e){return t(e,!0)}function t(e,t){if(we.state.fatArrowAt==we.stream.start){var r=t?I:E;if("("==e)return p(m,y(")"),$(N,")"),b,k("=>"),r,v);if("variable"==e)return d(m,N,k("=>"),r,v)}return r=t?M:j,ge.hasOwnProperty(e)?p(r):"function"==e?p(Q,r):"keyword c"==e?p(t?n:w):"("==e?p(y(")"),w,ue,k(")"),b,r):"operator"==e||"spread"==e?p(t?g:h):"["==e?p(y("]"),ce,b,r):"{"==e?q(A,"}",null,r):"quasi"==e?d(V,r):p()}function w(e){return e.match(/[;\}\)\],]/)?d():d(h)}function n(e){return e.match(/[;\}\)\],]/)?d():d(g)}function j(e,t){return","==e?p(h):M(e,t,!1)}function M(e,t,r){var n=0==r?j:M,a=0==r?h:g;if("=>"==e)return p(m,r?I:E,v);if("operator"==e)return/\+\+|--/.test(t)?p(n):"?"==t?p(h,k(":"),a):p(a);if("quasi"==e)return d(V,n);if(";"!=e){if("("==e)return q(g,")","call",n);if("."==e)return p(T,n);if("["==e)return p(y("]"),w,k("]"),b,n)}}function V(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?p(V):p(h,a)}function a(e){if("}"==e)return we.marked="string-2",we.state.tokenize=f,p(V)}function E(e){return s(we.stream,we.state),d("{"==e?x:h)}function I(e){return s(we.stream,we.state),d("{"==e?x:g)}function z(e){return":"==e?p(b,x):d(j,k(";"),b)}function T(e){if("variable"==e)return we.marked="property",p()}function A(e,t){return"variable"==e||"keyword"==we.style?(we.marked="property",p("get"==t||"set"==t?S:C)):"number"==e||"string"==e?(we.marked=me?"property":we.style+" property",p(C)):"jsonld-keyword"==e?p(C):"["==e?p(h,k("]"),C):void 0}function S(e){return"variable"!=e?d(C):(we.marked="property",p(Q))}function C(e){return":"==e?p(g):"("==e?d(Q):void 0}function $(t,r){function n(e){return","==e?("call"==(e=we.state.lexical).info&&(e.pos=(e.pos||0)+1),p(t,n)):e==r?p():p(k(r))}return function(e){return e==r?p():d(t,n)}}function q(e,t,r){for(var n=3;n<arguments.length;n++)we.cc.push(arguments[n]);return p(y(t,r),$(e,t),b)}function O(e){return"}"==e?p():d(x,O)}function P(e){if(ye&&":"==e)return p(W)}function W(e){if("variable"==e)return we.marked="variable-3",p()}function _(){return d(N,P,H,U)}function N(e,t){return"variable"==e?(r(t),p()):"["==e?q(N,"]"):"{"==e?q(B,"}"):void 0}function B(e,t){return"variable"!=e||we.stream.match(/^\s*:/,!1)?("variable"==e&&(we.marked="property"),p(k(":"),N,H)):(r(t),p(H))}function H(e,t){if("="==t)return p(g)}function U(e){if(","==e)return p(_)}function D(e,t){if("keyword b"==e&&"else"==t)return p(y("form","else"),x,b)}function F(e){if("("==e)return p(y(")"),G,k(")"),b)}function G(e){return"var"==e?p(_,k(";"),K):";"==e?p(K):"variable"==e?p(J):d(h,k(";"),K)}function J(e,t){return"in"==t||"of"==t?(we.marked="keyword",p(h)):p(j,K)}function K(e,t){return";"==e?p(L):"in"==t||"of"==t?(we.marked="keyword",p(h)):d(h,k(";"),L)}function L(e){")"!=e&&p(h)}function Q(e,t){return"*"==t?(we.marked="keyword",p(Q)):"variable"==e?(r(t),p(Q)):"("==e?p(m,y(")"),$(R,")"),b,x,v):void 0}function R(e){return"spread"==e?p(R):d(N,P)}function X(e,t){if("variable"==e)return r(t),p(Y)}function Y(e,t){return"extends"==t?p(h,Y):"{"==e?p(y("}"),Z,b):void 0}function Z(e,t){return"variable"==e||"keyword"==we.style?"static"==t?(we.marked="keyword",p(Z)):(we.marked="property","get"==t||"set"==t?p(ee,Q,Z):p(Q,Z)):"*"==t?(we.marked="keyword",p(Z)):";"==e?p(Z):"}"==e?p():void 0}function ee(e){return"variable"!=e?d():(we.marked="property",p())}function te(e,t){return"string"==e?p(x):"variable"==e?(r(t),p(oe)):void 0}function re(e,t){return"*"==t?(we.marked="keyword",p(oe,k(";"))):"default"==t?(we.marked="keyword",p(h,k(";"))):d(x)}function ne(e){return"string"==e?p():d(ae,oe)}function ae(e,t){return"{"==e?q(ae,"}"):("variable"==e&&r(t),"*"==t&&(we.marked="keyword"),p(ie))}function ie(e,t){if("as"==t)return we.marked="keyword",p(ae)}function oe(e,t){if("from"==t)return we.marked="keyword",p(h)}function ce(e){return"]"==e?p():d(g,le)}function le(e){return"for"==e?d(ue,k("]")):","==e?p($(n,"]")):d($(g,"]"))}function ue(e){return"for"==e?p(F,ue):"if"==e?p(h,ue):void 0}var fe,se,de=e.indentUnit,pe=o.statementIndent,me=o.jsonld,ve=o.json||me,ye=o.typescript,be=o.wordCharacters||/[\w$\xa1-\uffff]/,ke=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"};t={if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:e("this"),module:e("module"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n};if(ye){var o;r={type:"variable",style:"variable-3"},r={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:r,number:r,bool:r,any:r};for(o in r)t[o]=r[o]}return t}(),xe=/[+\-*&%=<>!?|~^]/,he=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,ge={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},we={state:null,column:null,marked:null,cc:null},je={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){return e={tokenize:l,lastType:"sof",cc:[],lexical:new i((e||0)-de,0,"block",!1),localVars:o.localVars,context:o.localVars&&{vars:o.localVars},indented:0},o.globalVars&&"object"==_typeof(o.globalVars)&&(e.globalVars=o.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),s(e,t)),t.tokenize!=u&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==fe)return r;t.lastType="operator"!=fe||"++"!=se&&"--"!=se?fe:"incdec";e:{var n=fe,a=se,i=t.cc;for(we.state=t,we.stream=e,we.marked=null,we.cc=i,we.style=r,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((i.length?i.pop():ve?h:x)(n,a)){for(;i.length&&i[i.length-1].lex;)i.pop()();if(we.marked){r=we.marked;break e}if(n="variable"==n)t:{for(n=t.localVars;n;n=n.next)if(n.name==a){n=!0;break t}for(i=t.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==a){n=!0;break t}n=void 0}if(n){r="variable-2";break e}break e}}return r},indent:function(e,t){if(e.tokenize==u)return Me.Pass;if(e.tokenize!=l)return 0;var r=t&&t.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(t))for(var a=e.cc.length-1;0<=a;--a){var i=e.cc[a];if(i==b)n=n.prev;else if(i!=D)break}return"stat"==n.type&&"}"==r&&(n=n.prev),pe&&")"==n.type&&"stat"==n.prev.type&&(n=n.prev),i=r==(a=n.type),"vardef"==a?n.indented+("operator"==e.lastType||","==e.lastType?n.info+1:0):"form"==a&&"{"==r?n.indented:"form"==a?n.indented+de:"stat"==a?(r=n.indented)+((n="operator"==e.lastType||","==e.lastType||xe.test(t.charAt(0))||/[,.]/.test(t.charAt(0)))?pe||de:0):"switch"!=n.info||i||0==o.doubleIndentSwitch?n.align?n.column+(i?0:1):n.indented+(i?0:de):n.indented+(/^(?:case|default)\b/.test(t)?de:2*de)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:ve?null:"/*",blockCommentEnd:ve?null:"*/",lineComment:ve?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:ve?"json":"javascript",jsonldMode:me,jsonMode:ve}}),Me.registerHelper("wordChars","javascript",/[\w$]/),Me.defineMIME("text/javascript","javascript"),Me.defineMIME("text/ecmascript","javascript"),Me.defineMIME("application/javascript","javascript"),Me.defineMIME("application/x-javascript","javascript"),Me.defineMIME("application/ecmascript","javascript"),Me.defineMIME("application/json",{name:"javascript",json:!0}),Me.defineMIME("application/x-json",{name:"javascript",json:!0}),Me.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Me.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Me.defineMIME("application/typescript",{name:"javascript",typescript:!0})});